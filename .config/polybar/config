;=====================================================
;
;   To learn more about how to configure Polybar
;   go to https://github.com/jaagr/polybar
;
;   The README contains alot of information
;
;=====================================================

[colors]
	;background = ${xrdb:color0:#222}
	background = #1d1f21
	background-alt = #444
	;foreground = ${xrdb:color7:#222}
	foreground = #c5c8c6
	foreground-alt = #555
	primary = #ffb52a
	secondary = #e60053
	alert = #bd2c40

[bar/top]
	width = 100%
	height = 27
	radius = 6.0
	fixed-center = false

	background = ${colors.background}
	foreground = ${colors.foreground}

	line-size = 3
	line-color =

	border-size = 0
	border-color =

	padding-left = 0
	padding-right = 2

	module-margin-left = 1
	module-margin-right = 2

	font-0 = Ubuntu Mono:size=10:antialias=true;0
	font-1 = "Font Awesome 5 Free:style=Regular:size=12:antialias=true;1"
	font-2 = "Font Awesome 5 Brands:style=Regular:size=10:antialias=true;1"
	font-3 = "Font Awesome 5 Free:style=Solid:size=10:antialias=true;1"
	;font-4 = "Symbols Nerd Font:style=Regular:size=10:antialias=true;1"
	;font-5 = Unifont:fontformat=truetype:size=8:antialias=true;0
	;font-6 = siji:pixelsize=10;1

	modules-left = eth xwindow player-mpris-tail
	modules-center = i3
	modules-right = filesystem memory cpu temperature date

	tray-position = right
	tray-padding = 0

	wm-restack = i3

	scroll-up = i3wm-wsnext
	scroll-down = i3wm-wsprev

	cursor-click = pointer
	cursor-scroll = ns-resize

[module/xwindow]
	type = internal/xwindow
	label = %title:0:20:...%

[module/xkeyboard]
	type = internal/xkeyboard

	; List of indicators to ignore
	;blacklist-0 = num lock
	blacklist-1 = scroll lock

	; Available tags:
	;   <label-layout> (default)
	;   <label-indicator> (default)
	;format = <label-layout> <label-indicator>
	;format-spacing = 0

	;format-prefix = "ÓâØ "
	format-prefix-foreground = ${colors.foreground-alt}
	format-prefix-underline = ${colors.secondary}

	; Available tokens:
	;   %layout%
	;   %name%
	;   %number%
	; Default: %name%
	;label-layout = %number%
	label-layout-underline = ${colors.secondary}

	; Available tokens:
	;   %name%
	; Default: %name%
	;label-indicator = %name%
	label-indicator-padding = 2
	label-indicator-margin = 1
	label-indicator-background = ${colors.secondary}
	label-indicator-underline = ${colors.secondary}

[module/filesystem]
	type = internal/fs

	; Mountpoints to display
	mount-0 = /
	mount-1 = /home

	; Seconds to sleep between updates
	; Default: 30
	interval = 30

	; Spacing between entries
	; Default: 2
	spacing = 2

	; Available tags:
	;   <label-mounted> (default)
	;   <bar-free>
	;   <bar-used>
	;   <ramp-capacity>
	format-mounted = <label-mounted>

	; Available tags:
	;   <label-unmounted> (default)
	format-unmounted = <label-unmounted>

	; Available tokens:
	;   %mountpoint%
	;   %type%
	;   %fsname%
	;   %percentage_free%
	;   %percentage_used%
	;   %total%
	;   %free%
	;   %used%
	; Default: %mountpoint% %percentage_free%%
	label-mounted = %{F#0a81f5}%mountpoint%%{F-}: %free%

	; Available tokens:
	;   %mountpoint%
	; Default: %mountpoint% is not mounted
	label-unmounted = %mountpoint% not mounted
	label-unmounted-foreground = ${colors.foreground-alt}

[module/bspwm]
	type = internal/bspwm

	label-focused = %index%
	label-focused-background = ${colors.background-alt}
	label-focused-underline= ${colors.primary}
	label-focused-padding = 2

	label-occupied = %index%
	label-occupied-padding = 2

	label-urgent = %index%!
	label-urgent-background = ${colors.alert}
	label-urgent-padding = 2

	label-empty = %index%
	label-empty-foreground = ${colors.foreground-alt}
	label-empty-padding = 2

	; Separator in between workspaces
	; label-separator = |


[module/i3]
	type = internal/i3
	format = <label-state> <label-mode>
	index-sort = true
	wrapping-scroll = false

	; Only show workspaces defined on the same output as the bar
	;
	; Useful if you want to show monitor specific workspaces
	; on different bars
	;
	; Default: false
	pin-workspaces = true

	; This will split the workspace name on ':'
	; Default: false
	;strip-wsnumbers = true

	; Sort the workspaces by index instead of the default
	; sorting that groups the workspaces by output
	; Default: false
	;index-sort = true

	; Create click handler used to focus workspace
	; Default: true
	;enable-click = false

	; Create scroll handlers used to cycle workspaces
	; Default: true
	;enable-scroll = false

	; Wrap around when reaching the first/last workspace
	; Default: true
	;wrapping-scroll = false

	; Set the scroll cycle direction 
	; Default: true
	;reverse-scroll = false

	; Use fuzzy (partial) matching on labels when assigning 
	; icons to workspaces
	; Example: code;‚ôö will apply the icon to all workspaces 
	; containing 'code' in the label
	; Default: false
	;fuzzy-match = true

	; Available tokens:
	;   %mode%
	; Default: %mode%
	label-mode-padding = 2
	label-mode-foreground = ${colors.foreground}
	label-mode-background = ${colors.background}

	; focused = Active workspace on focused monitor
	; Available tokens:
	;   %name%
	;   %icon%
	;   %index%
	;   %output%
	; Default: %icon%  %name%
	label-focused = %icon%
	label-focused-background = ${colors.background}
	label-focused-foreground = ${colors.foreground}
	label-focused-underline = ${module/bspwm.label-focused-underline}
	label-focused-padding = 2

	; Available tokens:
	;   %name%
	;   %icon%
	;   %index%
	;   %output%
	; Default: %icon%  %name%
	label-unfocused = %index%
	label-unfocused-background = #81a2be
	label-unfocused-foreground = #1d1f21
	label-unfocused-padding = 2

	; Available tokens:
	;   %name%
	;   %icon%
	;   %index%
	;   %output%
	; Default: %icon%  %name%
	label-visible = %index%
	label-visible-background = #81a2be
	label-visible-foreground = #1d1f21
	label-visible-padding = 2

	; Available tokens:
	;   %name%
	;   %icon%
	;   %index%
	;   %output%
	; Default: %icon%  %name%
	label-urgent = %index%
	label-urgent-background = #BA2922
	label-urgent-padding = 2

	; Separator in between workspaces
	;label-separator = |
	;label-separator-padding = 2
	;label-separator-foreground = #ffb52a

	; workspace icons
	; ws-icon-[0-9]+ = label;icon
	; NOTE: The label needs to match the name of the i3 workspace
	; NOTE: You cannot skip icons, e.g. to get a ws-icon-6
	; you must also define a ws-icon-5.
	ws-icon-0 = "1;1: ÔÑ†"
	ws-icon-1 = "2;2: ÔÑ°"
	ws-icon-2 = "3;3: Ôâ©"
	ws-icon-3 = "4;4: ÔÅª"
	ws-icon-4 = "5;5"
	ws-icon-5 = "6;6"
	ws-icon-6 = "7;7"
	ws-icon-7 = "8;8: ÔÄΩ"
	ws-icon-8 = "9;9: ÔÜº"
	ws-icon-9 = "10;10: ÔãÜ"

[module/cpu]
	type = internal/cpu

	; Seconds to sleep between updates
	; Default: 1
	interval = 2

	; Available tags:
	;   <label> (default)
	;   <bar-load>
	;   <ramp-load>
	;   <ramp-coreload>
	; format = <label> <ramp-coreload>
	format-prefix = "ÓÄ¶Ôãõ "
	format-prefix-foreground = ${colors.foreground-alt}
	format-underline = #f90000

	; Available tokens:
	;   %percentage% (default) - total cpu load
	;   %percentage-cores% - load percentage for each core
	;   %percentage-core[1-9]% - load percentage for specific core
	label = %percentage:2%%

	; Spacing between individual per-core ramps (unreleased)
	;ramp-coreload-spacing = 1
	;ramp-coreload-0 = ‚ñÅ
	;ramp-coreload-1 = ‚ñÇ
	;ramp-coreload-2 = ‚ñÉ
	;ramp-coreload-3 = ‚ñÑ
	;ramp-coreload-4 = ‚ñÖ
	;ramp-coreload-5 = ‚ñÜ
	;ramp-coreload-6 = ‚ñá
	;ramp-coreload-7 = ‚ñà

[module/memory]
	type = internal/memory
	interval = 2
	format-prefix = "ÓÄ®Ôî∏ "
	format-prefix-foreground = ${colors.foreground-alt}
	format-underline = #4bffdc
	label = %percentage_used%%

[module/eth]
	type = internal/network
	interface = enp9s0
	interval = 3.0

	format-connected-padding = 2
	format-connected-foreground = #1d1f21
	format-connected-background = #81a2be
	format-connected-prefix = "ÔÉÅ "
	format-connected-prefix-foreground = #1d1f21
	label-connected = %local_ip%

	format-disconnected =

[module/date]
	type = internal/date
	interval = 5

	date =
	date-alt = " %Y-%m-%d"

	time = %H:%M
	time-alt = %H:%M:%S

	format-prefix = ÔÄó
	format-foreground = #1d1f21
	format-background = #81a2be
	format-padding = 2

	label = %date% %time%


[module/pulseaudio]
	type = internal/pulseaudio

	format-volume = <label-volume> <bar-volume>
	label-volume = VOL %percentage%%
	label-volume-foreground = ${root.foreground}

	label-muted = üîá muted
	label-muted-foreground = #66

	bar-volume-width = 10
	bar-volume-foreground-0 = #55aa55
	bar-volume-foreground-1 = #55aa55
	bar-volume-foreground-2 = #55aa55
	bar-volume-foreground-3 = #55aa55
	bar-volume-foreground-4 = #55aa55
	bar-volume-foreground-5 = #f5a70a
	bar-volume-foreground-6 = #ff5555
	bar-volume-gradient = false
	bar-volume-indicator = |
	bar-volume-indicator-font = 2
	bar-volume-fill = ‚îÄ
	bar-volume-fill-font = 2
	bar-volume-empty = ‚îÄ
	bar-volume-empty-font = 2
	bar-volume-empty-foreground = ${colors.foreground-alt}

[module/alsa]
	type = internal/alsa

	format-volume = <label-volume> <bar-volume>
	label-volume = VOL
	label-volume-foreground = ${root.foreground}

	format-muted-prefix = "ÓàÇ "
	format-muted-foreground = ${colors.foreground-alt}
	label-muted = sound muted

	bar-volume-width = 10
	bar-volume-foreground-0 = #55aa55
	bar-volume-foreground-1 = #55aa55
	bar-volume-foreground-2 = #55aa55
	bar-volume-foreground-3 = #55aa55
	bar-volume-foreground-4 = #55aa55
	bar-volume-foreground-5 = #f5a70a
	bar-volume-foreground-6 = #ff5555
	bar-volume-gradient = false
	bar-volume-indicator = |
	bar-volume-indicator-font = 2
	bar-volume-fill = ‚îÄ
	bar-volume-fill-font = 2
	bar-volume-empty = ‚îÄ
	bar-volume-empty-font = 2
	bar-volume-empty-foreground = ${colors.foreground-alt}

[module/temperature]
	type = internal/temperature
	thermal-zone = 0
	warn-temperature = 60

	format = <ramp> <label>
	format-underline = #f50a4d
	format-warn = <ramp> <label-warn>
	format-warn-underline = ${self.format-underline}

	label = %temperature-c%
	label-warn = %temperature-c%
	label-warn-foreground = ${colors.secondary}

	ramp-0 = ÓÉâ
	ramp-1 = ÓÉä
	ramp-2 = ÓÉã
	ramp-foreground = ${colors.foreground-alt}

[module/powermenu]
	type = custom/menu

	expand-right = true

	format-spacing = 1

	label-open = ÔÄë
	label-open-foreground = #81a2be
	label-close = Ôêê cancel
	label-close-foreground = #81a2be
	label-separator = |
	label-separator-foreground = #81a2be

	menu-0-0 = reboot
	menu-0-0-exec = menu-open-1
	menu-0-1 = power off
	menu-0-1-exec = menu-open-2
	menu-0-2 = log off
	menu-0-2-exec = menu-open-3

	menu-1-0 = cancel
	menu-1-0-exec = menu-open-0
	menu-1-1 = reboot
	menu-1-1-exec = reboot

	menu-2-0 = power off
	menu-2-0-exec = poweroff
	menu-2-1 = cancel
	menu-2-1-exec = menu-open-0

	menu-3-0 = log off
	menu-3-0-exec = pkill -KILL -u $USER
	menu-3-1 = cancel
	menu-3-1-exec = menu-open-0

[settings]
	screenchange-reload = true
	;compositing-background = xor
	;compositing-background = screen
	;compositing-foreground = source
	;compositing-border = over

[global/wm]
	margin-top = 5
	margin-bottom = 5

[module/player-mpris-tail]
	type = custom/script
	exec = ~/.config/polybar/player-mpris-tail.py
	tail = true
	click-left = ~/.config/polybar/player-ctrl.sh play-pause
	click-middle = ~/.config/polybar/player-ctrl.sh previous
	click-right = ~/.config/polybar/player-ctrl.sh next

[module/pulseaudio-tail]
	type = custom/script
	exec = ~/.config/polybar/pulseaudio-tail.sh
	tail = true
	click-right = exec pavucontrol &
	click-left = ~/.config/polybar/pulseaudio-tail.sh --mute
	scroll-up = ~/.config/polybar/pulseaudio-tail.sh --up
	scroll-down = ~/.config/polybar/pulseaudio-tail.sh --down
